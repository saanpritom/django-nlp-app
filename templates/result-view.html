{% extends "base-view.html" %}

{% load staticfiles %}

{% load tags %}

{% block body_block %}


<main role="main" class="container">

  <div class="starter-template">
    <h1>BYLC NLP TEST FORM</h1>



    {% if error %}

      <div class="alert alert-danger" role="alert">
        There is an error in your input. Please try again.
      </div>

    {% else %}

      <p>
        Your choosen features are here:

        {% for choice in choices %}
          <span class="badge badge-{{ choice|BoxColor }}">{{ choice }}</span>

        {% endfor %}

      </p>

      <p>Your results are here:</p>

      {% for key, value in results.items %}

      <div class="feature-name">

        Table Name: <span class="badge badge-{{ key|BoxColor }}">{{ key }}</span>

        &nbsp; Total Number of Tags Found: <span class="badge badge-{{ key|BoxColor }}">{{ results|TotalNumber:key }}</span>

      </div>

        {% if key == 'Tags' %}

        <table class="table table-hover table-dark">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Tag Details</th>
              <th scope="col">Tag Name</th>
              <th scope="col">Total</th>
            </tr>
          </thead>
          <tbody>

          {% for sub_value in value %}

              <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{ sub_value|TagSplitter:1 }}</td>
                <td>{{ sub_value|TagSplitter:0 }}</td>
              </tr>

          {% endfor %}

          </tbody>
        </table>

        {% endif %}

      {% endfor %}


    {% endif %}





  </div>

</main><!-- /.container -->

{% endblock %}
